
![[Pasted image 20230926005003.png]]
jwt 는 xxxx.yyyyy.zzzzz의 세가지의 섹션으로 구성되는데 

# 헤더

사용된 알고리즘(alg),
토큰타입을 지정하는 타입(typ)

처럼 크게 두가지의 정보가 삽입된다.
이러한 데이터는 후에 base64Url로 인코드 되어 앞부분에 배치된다

#  페이로드 

단체나 사용자에대한 상태나 추가 정보같은 설명이 덧 붙여진다.
클레임에는 registered, public, private과 같은 클레임의 종류가 있다.

보통 최소 iss(issuer) , exp(expiration date), sub(subject), aud(audience)
와 같은 데이터를 넣기를 추천하는듯 하다

# 서명 

서명부분은 위의 사진에서 볼 수 있듯이
인코드 된 헤더와 페이로드, 시크릿키를 덧붙인 뒤, 앞서 헤더에 명시 했던 알고리즘을 사용해서 암호화 한다.

헤더는 순전히 인증용으로, 사용자가 쿠키를 수정하여 보내는 것을 방지한다.



보호받는 장소(kwang connection과 같은 경우에는 루트 페이지를 제외한 모든 곳)
에 접근할때는 유저는 항상 JWT 토큰을 헤더에 포함시켜서 보내야한다.


**쿠키는 언제나 다른이에게 탈취당할 위험성을 가지고 있다. 항상 중요데이터는 jwt에 덧붙이지 말아라** 








