
메모리의 할당을 단순히 프로세스에서 가능하게 하면 여러가지 문제가 야기될 수 있습니다.

1. 파편화 된 메모리 관리의 어려움
	프로세스별로 물리 메모리를 관리하게 된다면, 새로운 메모리를 할당 해제 할 때 물리 메모리가 연속적으로 이어져있지 않다면 프로세스에서 개별 메모리 관리하는 것이 매우 어려워집니다.
2. 다른 용도의 메모리 접근가능
	c와 같은 언어에서는 메모리 주소에 직접 접근 할 수 있는데, 만약 실제 메모리를 직접적으로 관리하게 된다면, 다른 프로세스나 커널의 중요 메모리를 수정 할 수 있게 만들고 예기치 못한 결과를 만들 수 있습니다.
3. 여러프로세스를 다루기 곤란
	[[프로그램 실행]]에서 보았듯이, 프로그램을 실행하기 위해선 파일의 헤더를 읽어서 코드의 오프셋, 크기등에 할당해 프로그램을 실행시켜야 하는데, 물리 메모리에 바로 저장할 시, 다른 프로세스의 실행상황에 따라 고정적인 주소에 데이터를 저장 할 수 없어 일관적인 결과를 기대하기 어렵습니다.


## 가상 메모리 

위와 같은 문제들을 해결하기 위해 가상 메모리가 도입되었습니다.
각 프로세스는 가상메모리라는 프로세스 별로 할당된 메모리 공간을 가지고, 가상 메모리에 데이터를 작성, 로드 하면 페이지 메모리라는 변환 표를 이용해 물리 메모리 기록합니다.

![](https://i.imgur.com/DL4uXws.png)

## 페이지 테이블 

페이지 테이블은 커널 내부에 저장되어 있는 변환 표입니다.
![](https://i.imgur.com/kTPwMiE.png)

페이지 테이블에서는 프로세스의 가상 메모리 주소와 실제 메모리 주소를 연결해서 가지고 있으며, 만약 프로세스에서 해당 프로세스에 할당 되어 있지 않은 메모리에 접근하면 
page fault 인터럽트가 발생합니다.