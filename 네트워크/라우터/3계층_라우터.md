원격지 통신을 가능하게 하는 장비
라우터는 다양한 경로 정보를 수집해 최적의 경로를 라우팅 테이블에 저장합니다. 
이는 패킷이 들어올때 참고되어 패킷을 최적의 주소로 전송합니다.

주소에 목적지가 없을 시 모든 포트에 전달하는 스위치와 달리, 라우터는 목적지가 등록이 되어 있지 않는경우 패킷을 버립니다.

# 경로지정
라우터의 가장 중요한 역할은 경로지정입니다. 라우터는 경로정보를 모아 라우팅 테이블을 만들고 패킷이 들어오면 패킷의 ip주소를 확인해 경로를 지정해 패킷을 포워딩합니다.
ip주소의 네트워크 주소를 기반으로 경로를 찾습니다.

라우터는 경로를 지정해 패킷을 포워딩하기전 두가지 일을 진행해야합니다.
경로 정보를 얻고, 경로정보를 찾아 패킷을 포워딩하는 것입니다.

패킷 경로정보에 있는 곳에만 패킷을 포워딩하기 때문에 매우 중요합니다.

경로는 ip주소를 입력하면서 자연스럽게 네트워크 정보를 얻는다거나, 관리자가 직접 입력하기, 라우터들 끼리 서로 경로 정보를 교환하는 방법이 있습니다 .\

## 브로드 캐스트 컨트롤

라우터는 브로드캐스트를 전달하지 않습니다.

## 프로토콜 변환

과거에는 LAN과 WAN에서 사용하는 프로토콜이 전혀 달랐기 때문에, 이를 중재해주는 기관이 필요했습니다.
그리고 이를 라우터가 담당했습니다.

라우터는 3계층에서 동작하기 때문에 라우터에 패킷이 들어오면 2계층까지의 헤더 정보를 벗겨내고 3계층 주소를 확인한 후 2계층 헤더 정보를 새로 만들어 외부로 보냅니다.
덕부네 전혀 다른 기술간 변환이 가능해졌습니다 .

## 경로지정 - 라우팅/스위칭

라우터가 패킷을 처리할 때는 크게 두가지 작업을 수행합니다.
	경로 정보를 얻어 경로 정보를 정리
	정리된 경로 정보를 기반으로 패킷 포워드

라우터는 경로에 없는 패킷이 들어오면 "버립니다" 그렇기 때문에 경로 정보를 많이 들고 있는것이 핵심입니다.
그러나 현재 많은 도메인들이 사용되고 있고, 클래스 리스 ip체계를 사용함에 따라 경로정보가 매우 많아졌습니다.

이를 해결하기 위해 라우터는 서브넷 단위로 라우팅 정보를 습득하고, 라우팅 정보를 최적화 하기위해 서머리 작업을 통해 여러개의 서브넷 정보를 뭉쳐 전달합니다.
이는 정확히 한번에 패킷을 토스하기 위한다기 보다는 근접한 주소에 패킷을 던지고 그 라우터가 해결하기 바라는 것입니다 .

## 전달방식_홉

앞서 말했듯, 라우터는 패킷을 전달할때 목적지의 경로까지 모든것을 책임지기 보단, 인접한 라우터까지의 경로를 지정하면 인접 라우터에서 최적의 경로를 다시 파악한 후 라우터로 패킷을 포워딩 합니다.

이때, 네트워크를 한 단계씩 뛰어넘는다는 의미로 홉-바이-홉 기법이라고 합니다.
![](https://i.imgur.com/fosyB6P.png)



넥스트 홉을 지정할때는 일반적으로 상대의 ip(넥스트 홉 ip)를 지정해서 라우팅합니다.
라우터의 나가는 인터페이스를 지정하는 방식을 고려할 수 있지만, 이는 상대의 ip를 모르더라도 mac은 알 수 있거나, Wan에서 ppp나 hldc를 통해 상대의 mac주소를 알필요가 없을때 와 같이 한정된 상황에서만 사용합니다.

또한 라우터는 패킷을 포워딩할때 출발지를 고려하지 않습니다. 그래서 라우팅 테이블을 만들때도 출발지에 대한 정보는 기입하지 않습니다.

라우팅 테이블에는 아래와 같은 정보가 포함 됩니다.

- 목적지 주소
- 넥스트 홉 ip주소, 나가는 로컬 인터페이스(선택가능) 

3계층의 패킷에는 TTL(Time To Live)와 같은 항목이 있는데, 이는 갑자기 작동하던 웹사이트가 사라진다는 특수한 상황에서 일어날 수 있는 패킷의 영구 순환을 방지하기 위해 탄생했습니다.


[[스위칭]]




